{
  "dash_predictive_insights": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "extensions.uuid_generate_v4()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "insight_type": {
        "type": "public.insight_type",
        "required": true,
        "enum": [
          "threshold_alert",
          "pattern_detected",
          "trend_warning",
          "crew_frustration",
          "inventory_gap",
          "compliance_due"
        ],
        "default": null,
        "description": "",
        "is_fk": false
      },
      "title": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "recommendation": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "severity": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "acknowledged": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "acknowledged_by": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": false
      },
      "acknowledged_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "dismissed": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "dismissed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "expires_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 6
  },
  "pms_crew_certificates": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "person_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "person_name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "certificate_type": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "certificate_number": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "issuing_authority": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "issue_date": {
        "type": "date",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "expiry_date": {
        "type": "date",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "properties": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "pms_parts": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "part_number": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "manufacturer": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "category": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "model_compatibility": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Compatible equipment models",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "search_embedding": {
        "type": "public.vector(1536)",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "embedding_text": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "auth_users": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "auth_user_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Links to auth.users(id) - enables JWT validation via JWT.sub",
        "is_fk": true
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "email": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_active": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": true,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 7
  },
  "dash_action_logs": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "extensions.uuid_generate_v4()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": true
      },
      "action_name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "action_status": {
        "type": "public.action_status",
        "required": true,
        "enum": [
          "pending",
          "in_progress",
          "completed",
          "failed",
          "cancelled"
        ],
        "default": "pending",
        "description": "",
        "is_fk": false
      },
      "request_payload": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "response_payload": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "context": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "error_code": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "error_message": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "started_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "completed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "duration_ms": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "source_ip": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "user_agent": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 7
  },
  "doc_sop_edit_history": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "sop_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_sop_procedures.id`.<fk table='doc_sop_procedures' column='id'/>",
        "is_fk": true
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "original_content": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "edited_content": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "edit_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "dash_legacy_view": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "extensions.uuid_generate_v4()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_overview": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "equipment_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "equipment_by_status": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "work_orders_overview": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "work_orders_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "work_orders_by_status": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "work_orders_overdue_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "inventory_overview": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "inventory_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "inventory_low_stock_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "certificates_overview": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "certificates_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "certificates_expiring_soon": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "fault_history": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "faults_active_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "faults_resolved_30d": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "scheduled_maintenance": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "maintenance_upcoming_7d": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "maintenance_overdue": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "parts_usage": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "documents_summary": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "documents_total": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "generated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "valid_until": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 11
  },
  "log_pipeline_execution": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "extensions.uuid_generate_v4()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "step": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "status": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "message": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "error_details": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "duration_ms": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 4
  },
  "equipment_aliases": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "alias": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "alias_systems": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "system_type": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": 1.0,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "source": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "",
        "is_fk": false
      },
      "master_candidate_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "deployed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 4
  },
  "yacht_resolution_records": {
    "columns": {
      "resolution_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": true
      },
      "yacht_id": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "resolution_title": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "resolution_description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "resolution_steps": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "equipment_type": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "applicable_models": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "success_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "failure_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "average_time_minutes": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "difficulty_level": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "required_expertise": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "safety_warnings": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "tools_required": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "parts_required": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "estimated_cost_range": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_by": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "approved_by": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "approval_date": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_verified": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 2
  },
  "yacht_email_configs": {
    "columns": {
      "contact_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": true
      },
      "yacht_id": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "vendor": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "contact_name": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "email": {
        "type": "character varying",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "specialization": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "notes": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "reliability_score": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Reliability score for contact",
        "is_fk": false
      },
      "last_contacted": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Last time this contact was reached out to",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "yacht_fault_records": {
    "columns": {
      "fault_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": true
      },
      "yacht_id": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "equipment_type": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "equipment_brand": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "equipment_model": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "fault_code": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "fault_description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "symptoms": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "severity_level": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "detected_date": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "resolved_date": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "resolution_status": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": "open",
        "description": "",
        "is_fk": false
      },
      "resolution_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "technician_notes": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "root_cause": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "preventive_measures": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "downtime_hours": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "repair_cost_usd": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "parts_replaced": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      }
    },
    "required_count": 2
  },
  "chat_messages": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "session_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `chat_sessions.id`.<fk table='chat_sessions' column='id'/>",
        "is_fk": true
      },
      "role": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "content": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "timestamp": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "message_index": {
        "type": "integer",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "sources": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "tokens_used": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "confidence_score": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "yacht_id": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      }
    },
    "required_count": 4
  },
  "pms_work_order_history": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "work_order_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_work_orders.id`.<fk table='pms_work_orders' column='id'/>",
        "is_fk": true
      },
      "equipment_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "completed_by": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": false
      },
      "completed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "notes": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Free-form technician notes - indexed for RAG search",
        "is_fk": false
      },
      "hours_logged": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "status_on_completion": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "parts_used": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Array of parts consumed during work order",
        "is_fk": false
      },
      "documents_used": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "faults_related": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 4
  },
  "search_query_logs": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": true
      },
      "query_text": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "interpreted_intent": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "entities": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Extracted entities from query (equipment, fault codes, etc)",
        "is_fk": false
      },
      "latency_ms": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "success": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 4
  },
  "document_directory_tree": {
    "columns": {
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "level_1": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "level_2": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "level_3": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "document_count": {
        "type": "bigint",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "graph_nodes": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "node_type": {
        "type": "public.graph_node_type",
        "required": false,
        "enum": [
          "equipment",
          "part",
          "system",
          "subcomponent",
          "fault",
          "symptom",
          "procedure",
          "measurement",
          "specification",
          "consumable",
          "tool",
          "document",
          "manual",
          "drawing",
          "certificate",
          "report",
          "sop",
          "checklist",
          "log_entry",
          "work_order",
          "service_record",
          "person",
          "role",
          "department",
          "watch",
          "qualification",
          "training",
          "voyage",
          "passage",
          "port",
          "waypoint",
          "route",
          "anchorage",
          "chart",
          "weather_window",
          "regulation",
          "inspection",
          "drill",
          "incident",
          "deficiency",
          "corrective_action",
          "permit",
          "flag_requirement",
          "invoice",
          "purchase_order",
          "expense",
          "budget",
          "contract",
          "policy",
          "claim",
          "payment",
          "currency",
          "supplier",
          "manufacturer",
          "agent",
          "shipyard",
          "surveyor",
          "service_provider",
          "guest",
          "trip",
          "itinerary",
          "preference",
          "activity",
          "dietary_requirement",
          "reservation",
          "menu",
          "recipe",
          "provision",
          "linen",
          "uniform",
          "amenity",
          "cabin",
          "area",
          "tender",
          "toy",
          "dive_equipment",
          "mooring_equipment",
          "deck_area",
          "cover",
          "network_device",
          "av_system",
          "software",
          "credential",
          "connection",
          "ip_address",
          "medication",
          "medical_equipment",
          "medical_record",
          "vaccination",
          "location",
          "compartment",
          "tank",
          "locker",
          "void",
          "date",
          "time_period",
          "schedule",
          "deadline",
          "milestone",
          "identifier",
          "reference",
          "tag",
          "note",
          "other"
        ],
        "default": null,
        "description": "",
        "is_fk": false
      },
      "label": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "normalized_label": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "source_chunk_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_document_chunks.id`.<fk table='search_document_chunks' column='id'/>",
        "is_fk": true
      },
      "source_document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "properties": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "real",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "extraction_source": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "embedding": {
        "type": "public.vector(1536)",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "search_embedding_queue": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "status": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": "pending",
        "description": "",
        "is_fk": false
      },
      "error_message": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "started_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "completed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 4
  },
  "alias_faults": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "fault_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_faults.id`.<fk table='pms_faults' column='id'/>",
        "is_fk": true
      },
      "alias": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": 1.0,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "source": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "",
        "is_fk": false
      },
      "master_candidate_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "deployed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "document_counts_by_department": {
    "columns": {
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "department": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "document_count": {
        "type": "bigint",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "total_size_bytes": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "indexed_count": {
        "type": "bigint",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "pending_count": {
        "type": "bigint",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "search_fault_code_catalog": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_type": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Equipment model this fault code applies to, e.g. Caterpillar 3208",
        "is_fk": false
      },
      "manufacturer": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "code": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "name": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "severity": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "warning",
        "description": "",
        "is_fk": false
      },
      "symptoms": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Observable symptoms when this fault occurs",
        "is_fk": false
      },
      "causes": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Possible root causes of this fault",
        "is_fk": false
      },
      "diagnostic_steps": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Steps to diagnose the fault",
        "is_fk": false
      },
      "resolution_steps": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Steps to resolve the fault",
        "is_fk": false
      },
      "related_parts": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "source_document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "source_chunk_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_document_chunks.id`.<fk table='search_document_chunks' column='id'/>",
        "is_fk": true
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 6
  },
  "search_graph_nodes": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "node_type": {
        "type": "public.graph_node_type",
        "required": true,
        "enum": [
          "equipment",
          "part",
          "system",
          "subcomponent",
          "fault",
          "symptom",
          "procedure",
          "measurement",
          "specification",
          "consumable",
          "tool",
          "document",
          "manual",
          "drawing",
          "certificate",
          "report",
          "sop",
          "checklist",
          "log_entry",
          "work_order",
          "service_record",
          "person",
          "role",
          "department",
          "watch",
          "qualification",
          "training",
          "voyage",
          "passage",
          "port",
          "waypoint",
          "route",
          "anchorage",
          "chart",
          "weather_window",
          "regulation",
          "inspection",
          "drill",
          "incident",
          "deficiency",
          "corrective_action",
          "permit",
          "flag_requirement",
          "invoice",
          "purchase_order",
          "expense",
          "budget",
          "contract",
          "policy",
          "claim",
          "payment",
          "currency",
          "supplier",
          "manufacturer",
          "agent",
          "shipyard",
          "surveyor",
          "service_provider",
          "guest",
          "trip",
          "itinerary",
          "preference",
          "activity",
          "dietary_requirement",
          "reservation",
          "menu",
          "recipe",
          "provision",
          "linen",
          "uniform",
          "amenity",
          "cabin",
          "area",
          "tender",
          "toy",
          "dive_equipment",
          "mooring_equipment",
          "deck_area",
          "cover",
          "network_device",
          "av_system",
          "software",
          "credential",
          "connection",
          "ip_address",
          "medication",
          "medical_equipment",
          "medical_record",
          "vaccination",
          "location",
          "compartment",
          "tank",
          "locker",
          "void",
          "date",
          "time_period",
          "schedule",
          "deadline",
          "milestone",
          "identifier",
          "reference",
          "tag",
          "note",
          "other"
        ],
        "default": null,
        "description": "",
        "is_fk": false
      },
      "label": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "normalized_label": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "source_chunk_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_document_chunks.id`.<fk table='search_document_chunks' column='id'/>",
        "is_fk": true
      },
      "source_document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "properties": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "real",
        "required": true,
        "enum": null,
        "default": 1.0,
        "description": "",
        "is_fk": false
      },
      "extraction_source": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "embedding": {
        "type": "public.vector(1536)",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Entity label embedded with text-embedding-3-small for semantic matching",
        "is_fk": false
      }
    },
    "required_count": 8
  },
  "pms_vessel_certificates": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "certificate_type": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "certificate_name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "certificate_number": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "issuing_authority": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "issue_date": {
        "type": "date",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "expiry_date": {
        "type": "date",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "last_survey_date": {
        "type": "date",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "next_survey_due": {
        "type": "date",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "status": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": "valid",
        "description": "",
        "is_fk": false
      },
      "document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "properties": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 7
  },
  "pms_voyage_log": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "voyage_name": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "voyage_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "departure_port": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "departure_port_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "arrival_port": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "arrival_port_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "departure_time": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "arrival_time": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "distance_nm": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "fuel_consumed_liters": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "properties": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "dash_handover_records": {
    "columns": {
      "handover_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": true
      },
      "user_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "yacht_id": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "solution_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Optional: UUID of related solution/document",
        "is_fk": true
      },
      "document_name": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "document_path": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "document_page": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Optional: Page number for NAS documents",
        "is_fk": false
      },
      "system_affected": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "fault_code": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "symptoms": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "actions_taken": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "duration_minutes": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "notes": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "status": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "draft",
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "completed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "document_source": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "Source type: nas, email, or manual",
        "is_fk": false
      },
      "entities": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "pms_equipment": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "parent_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Parent equipment for hierarchical structure\n\nNote:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "code": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "location": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "manufacturer": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "model": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "serial_number": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "installed_date": {
        "type": "date",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "criticality": {
        "type": "public.equipment_criticality",
        "required": false,
        "enum": [
          "low",
          "medium",
          "high",
          "critical"
        ],
        "default": "medium",
        "description": "Operational criticality level",
        "is_fk": false
      },
      "system_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "attention_flag": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "attention_reason": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "attention_updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "pms_purchase_order_items": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "purchase_order_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_purchase_orders.id`.<fk table='pms_purchase_orders' column='id'/>",
        "is_fk": true
      },
      "part_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_parts.id`.<fk table='pms_parts' column='id'/>",
        "is_fk": true
      },
      "description": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "quantity_ordered": {
        "type": "integer",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "quantity_received": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "unit_price": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 7
  },
  "doc_metadata": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "source": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "original_path": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "filename": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "content_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "size_bytes": {
        "type": "bigint",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "sha256": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "SHA256 hash for file integrity and deduplication (NOT for auth)",
        "is_fk": false
      },
      "storage_path": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "equipment_ids": {
        "type": "uuid[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "tags": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "indexed": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": false,
        "description": "Whether document has been processed by indexing pipeline",
        "is_fk": false
      },
      "indexed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Flexible JSONB field for additional metadata (directories, timestamps, etc.)",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "system_path": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "NAS directory hierarchy (e.g., \"02_Engineering/Electrical\")",
        "is_fk": false
      },
      "doc_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "oem": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "model": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "system_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 7
  },
  "dash_handover_items": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "handover_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "source_type": {
        "type": "public.handover_source_type",
        "required": true,
        "enum": [
          "fault",
          "work_order",
          "history",
          "document",
          "predictive",
          "note"
        ],
        "default": null,
        "description": "Type of source: fault, work_order, history, document, predictive",
        "is_fk": false
      },
      "source_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "UUID of the source entity",
        "is_fk": true
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "title": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "priority": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "normal",
        "description": "",
        "is_fk": false
      },
      "status": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "pending",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 7
  },
  "pms_inventory_stock": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "part_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_parts.id`.<fk table='pms_parts' column='id'/>",
        "is_fk": true
      },
      "location": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Physical storage location on vessel",
        "is_fk": false
      },
      "quantity": {
        "type": "integer",
        "required": true,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "min_quantity": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "max_quantity": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "reorder_quantity": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "last_counted_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 6
  },
  "search_suggestion_analytics": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": true
      },
      "query_text": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "intent": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "search_query_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "situation_detected": {
        "type": "boolean",
        "required": true,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "situation_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "situation_severity": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "situation_context": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "suggested_actions": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "evidence_provided": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "user_action_taken": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "user_action_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 6
  },
  "log_events": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": true
      },
      "event_type": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "entity_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "entity_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "session_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      }
    },
    "required_count": 4
  },
  "log_system_events": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "extensions.uuid_generate_v4()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "event_type": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "event_data": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "pms_notes": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "work_order_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_work_orders.id`.<fk table='pms_work_orders' column='id'/>",
        "is_fk": true
      },
      "fault_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_faults.id`.<fk table='pms_faults' column='id'/>",
        "is_fk": true
      },
      "text": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note content - searchable text",
        "is_fk": false
      },
      "note_type": {
        "type": "public.note_type",
        "required": true,
        "enum": [
          "general",
          "observation",
          "warning",
          "resolution",
          "handover"
        ],
        "default": "general",
        "description": "Classification: general, observation, warning, resolution, handover",
        "is_fk": false
      },
      "created_by": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": false
      },
      "attachments": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Array of document references: [{document_id, filename}]",
        "is_fk": true
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 7
  },
  "alias_symptoms": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "symptom_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "alias": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": 1.0,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "source": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "",
        "is_fk": false
      },
      "candidate_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "master_candidate_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "deployed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "symptom_code": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "auth_api_keys": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "key_prefix": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "First 8-12 chars for identification (e.g., sk_live_a1b2c3d4)",
        "is_fk": false
      },
      "hashed_key": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "bcrypt hash of full API key",
        "is_fk": false
      },
      "name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "scopes": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Granted permissions (e.g., read:equipment, write:work_orders)",
        "is_fk": false
      },
      "created_by": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": false
      },
      "expires_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "last_used_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_active": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": true,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 6
  },
  "pms_suppliers": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "contact_name": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "email": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "phone": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "address": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "preferred": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "alias_tasks": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "task_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "alias": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": 1.0,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "graph_edges": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "from_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "to_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "edge_type": {
        "type": "public.graph_edge_type",
        "required": false,
        "enum": [
          "PART_OF",
          "CONTAINS",
          "BELONGS_TO",
          "LOCATED_IN",
          "INSTALLED_ON",
          "CONNECTED_TO",
          "USES_PART",
          "REQUIRES_CONSUMABLE",
          "HAS_FAULT",
          "SHOWS_SYMPTOM",
          "CAUSES",
          "SYMPTOM_OF",
          "REPAIRED_BY",
          "MAINTAINED_BY",
          "SPECIFIED_IN",
          "SUPERSEDES",
          "COMPATIBLE_WITH",
          "ALTERNATIVE_TO",
          "DOCUMENTED_IN",
          "REFERENCES",
          "APPLIES_TO",
          "COVERS",
          "SECTION_OF",
          "REVISION_OF",
          "ATTACHMENT_TO",
          "ASSIGNED_TO",
          "RESPONSIBLE_FOR",
          "REPORTS_TO",
          "MEMBER_OF",
          "PERFORMED_BY",
          "APPROVED_BY",
          "CREATED_BY",
          "WITNESSED_BY",
          "HOLDS_CERTIFICATE",
          "CERTIFIES",
          "ISSUED_BY",
          "VALID_UNTIL",
          "EXPIRES_ON",
          "SATISFIES",
          "REQUIRED_BY",
          "COMPLIES_WITH",
          "INSPECTED_BY",
          "SUPPLIED_BY",
          "INVOICED_BY",
          "PAID_TO",
          "ALLOCATED_TO",
          "QUOTED_BY",
          "CONTRACTED_WITH",
          "INSURED_BY",
          "CLAIMED_UNDER",
          "PART_OF_VOYAGE",
          "DEPARTED_FROM",
          "ARRIVED_AT",
          "TRANSITED_THROUGH",
          "PLANNED_FOR",
          "OCCURRED_DURING",
          "BOOKED_BY",
          "ATTENDED_BY",
          "PREFERS",
          "ALLERGIC_TO",
          "REQUESTED_BY",
          "SERVED_TO",
          "SCHEDULED_FOR",
          "DUE_ON",
          "COMPLETED_ON",
          "STARTED_ON",
          "VALID_FROM",
          "EFFECTIVE_FROM",
          "LAST_DONE",
          "NEXT_DUE",
          "HOSTS",
          "AUTHENTICATES",
          "BACKS_UP_TO",
          "STREAMS_TO",
          "RELATED_TO",
          "LINKED_TO",
          "ASSOCIATED_WITH",
          "MENTIONED_IN",
          "TAGGED_WITH",
          "SIMILAR_TO",
          "REPLACED_BY",
          "DERIVED_FROM",
          "AFFECTS",
          "has_fault",
          "has_part",
          "related_to",
          "causes",
          "resolves"
        ],
        "default": null,
        "description": "",
        "is_fk": false
      },
      "source_chunk_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_document_chunks.id`.<fk table='search_document_chunks' column='id'/>",
        "is_fk": true
      },
      "source_document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "properties": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "real",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "embedding": {
        "type": "public.vector(1536)",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "maintenance_facts": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "part_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "system_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "action": {
        "type": "public.maintenance_action_type",
        "required": false,
        "enum": [
          "inspect",
          "check",
          "test",
          "measure",
          "record",
          "clean",
          "lubricate",
          "adjust",
          "calibrate",
          "tighten",
          "replace",
          "repair",
          "rebuild",
          "overhaul",
          "recondition",
          "service",
          "flush",
          "drain",
          "fill",
          "bleed",
          "purge",
          "sample",
          "analyze",
          "diagnose",
          "troubleshoot",
          "document",
          "photograph",
          "report",
          "certify",
          "other",
          "oil_change",
          "filter_replace",
          "belt_check",
          "coolant_check",
          "pressure_test",
          "visual_inspection"
        ],
        "default": null,
        "description": "",
        "is_fk": false
      },
      "interval_hours": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "interval_days": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "interval_description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "source_chunk_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_document_chunks.id`.<fk table='search_document_chunks' column='id'/>",
        "is_fk": true
      },
      "source_document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "confidence": {
        "type": "real",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "properties": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "search_symptom_catalog": {
    "columns": {
      "code": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "label": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "system_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "severity": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "alias_crew": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "crew_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "alias": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": 1.0,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "pms_equipment_parts_bom": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "part_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_parts.id`.<fk table='pms_parts' column='id'/>",
        "is_fk": true
      },
      "quantity_required": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 1,
        "description": "",
        "is_fk": false
      },
      "notes": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "relationship_staging": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "from_canonical": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "to_canonical": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "relationship_type": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": 0.9,
        "description": "",
        "is_fk": false
      },
      "evidence": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "source_chunk_id": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "status": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "pending",
        "description": "",
        "is_fk": false
      },
      "error_message": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "processed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "graph_edge_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "entity_staging": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "entity_type": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "entity_value": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "canonical_label": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": 0.9,
        "description": "",
        "is_fk": false
      },
      "source_chunk_id": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "source_document_id": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "source_storage_path": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "attributes": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "status": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "pending",
        "description": "",
        "is_fk": false
      },
      "error_message": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "processed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "graph_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "symptom_aliases": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "symptom_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "symptom_code": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "v_vessel_status": {
    "columns": {
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "current_status": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "next_event_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "next_event_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "next_event_name": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "hot_work_permitted": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "guests_on_board": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "hours_until_event": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "time_pressure": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_pre_charter_critical": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "pms_work_orders": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "title": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "type": {
        "type": "public.work_order_type",
        "required": true,
        "enum": [
          "scheduled",
          "corrective",
          "unplanned",
          "preventive"
        ],
        "default": "scheduled",
        "description": "",
        "is_fk": false
      },
      "priority": {
        "type": "public.work_order_priority",
        "required": true,
        "enum": [
          "routine",
          "important",
          "critical",
          "emergency"
        ],
        "default": "routine",
        "description": "",
        "is_fk": false
      },
      "status": {
        "type": "public.work_order_status",
        "required": true,
        "enum": [
          "planned",
          "in_progress",
          "completed",
          "deferred",
          "cancelled"
        ],
        "default": "planned",
        "description": "",
        "is_fk": false
      },
      "due_date": {
        "type": "date",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "due_hours": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Equipment running hours when maintenance is due",
        "is_fk": false
      },
      "last_completed_date": {
        "type": "date",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "last_completed_hours": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "frequency": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Recurring schedule definition",
        "is_fk": false
      },
      "created_by": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": false
      },
      "updated_by": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 9
  },
  "auth_role_assignments": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "user_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Which user has this role\n\nNote:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": true
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Which yacht context this role applies to",
        "is_fk": true
      },
      "role": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Role name (chief_engineer, eto, captain, etc.)",
        "is_fk": false
      },
      "scopes": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Fine-grained permissions for this role assignment",
        "is_fk": false
      },
      "is_active": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": true,
        "description": "",
        "is_fk": false
      },
      "valid_from": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "When this role assignment becomes valid",
        "is_fk": false
      },
      "valid_until": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "When this role assignment expires (NULL = never)",
        "is_fk": false
      },
      "assigned_by": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "assigned_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 4
  },
  "v_inventory": {
    "columns": {
      "part_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": true
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "name": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "part_number": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "manufacturer": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "category": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "equipment": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "system": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "unit_cost": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "stock_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": true
      },
      "location": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "quantity": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "min_quantity": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "max_quantity": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "reorder_quantity": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "needs_reorder": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "has_embedding": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "v_active_insights": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "insight_type": {
        "type": "public.insight_type",
        "required": false,
        "enum": [
          "threshold_alert",
          "pattern_detected",
          "trend_warning",
          "crew_frustration",
          "inventory_gap",
          "compliance_due"
        ],
        "default": null,
        "description": "",
        "is_fk": false
      },
      "title": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "recommendation": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "severity": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "acknowledged": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "acknowledged_by": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": false
      },
      "acknowledged_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "dismissed": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "dismissed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "expires_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "equipment_name": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "system_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "criticality": {
        "type": "public.equipment_criticality",
        "required": false,
        "enum": [
          "low",
          "medium",
          "high",
          "critical"
        ],
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "dash_intelligence_snapshot": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "extensions.uuid_generate_v4()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "snapshot_type": {
        "type": "public.snapshot_type",
        "required": true,
        "enum": [
          "briefing",
          "legacy",
          "predictive"
        ],
        "default": "briefing",
        "description": "",
        "is_fk": false
      },
      "high_risk_equipment": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "risk_movements": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "unstable_systems": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "patterns_7d": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "overdue_critical": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "inventory_gaps": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "inspections_due": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "crew_frustration": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "summary_stats": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "generated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "generation_duration_ms": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "data_freshness_hours": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "valid_until": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_stale": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 13
  },
  "dash_notifications": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "equipment_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "type": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "title": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "message": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "priority": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": "normal",
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_read": {
        "type": "boolean",
        "required": true,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "read_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 8
  },
  "yacht_registry": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "imo": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "mmsi": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "flag_state": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "length_m": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "owner_ref": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "yacht_secret_hash": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "bcrypt hash of master yacht secret - for deriving agent keys",
        "is_fk": false
      },
      "nas_root_path": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "status": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "active",
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "auth_microsoft_tokens": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "user_id": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "microsoft_user_id": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "original_email": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "microsoft_email": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "display_name": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "microsoft_access_token": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "microsoft_refresh_token": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "token_expires_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "token_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "Bearer",
        "description": "",
        "is_fk": false
      },
      "scopes": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "client_id": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "client_secret": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "yacht_id": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      }
    },
    "required_count": 4
  },
  "symptom_catalog": {
    "columns": {
      "code": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "label": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "system_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "severity": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "alias_equipment": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "alias": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_primary": {
        "type": "boolean",
        "required": true,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": 1.0,
        "description": "",
        "is_fk": false
      },
      "source": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "manual = added locally, master = pushed from CelesteOS Master DB",
        "is_fk": false
      },
      "candidate_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "master_candidate_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Links to alias_candidates.id in Master DB for audit",
        "is_fk": true
      },
      "deployed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 6
  },
  "chat_session_summaries": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "title": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "folder": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "yacht_id": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "search_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "message_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_archived": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "deleted": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "first_message_preview": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "last_message_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "search_suggestions": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "equipment_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "suggestion_text": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "priority": {
        "type": "integer",
        "required": true,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "category": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "expires_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 6
  },
  "search_graph_edges": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "from_node_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "to_node_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "edge_type": {
        "type": "public.graph_edge_type",
        "required": true,
        "enum": [
          "PART_OF",
          "CONTAINS",
          "BELONGS_TO",
          "LOCATED_IN",
          "INSTALLED_ON",
          "CONNECTED_TO",
          "USES_PART",
          "REQUIRES_CONSUMABLE",
          "HAS_FAULT",
          "SHOWS_SYMPTOM",
          "CAUSES",
          "SYMPTOM_OF",
          "REPAIRED_BY",
          "MAINTAINED_BY",
          "SPECIFIED_IN",
          "SUPERSEDES",
          "COMPATIBLE_WITH",
          "ALTERNATIVE_TO",
          "DOCUMENTED_IN",
          "REFERENCES",
          "APPLIES_TO",
          "COVERS",
          "SECTION_OF",
          "REVISION_OF",
          "ATTACHMENT_TO",
          "ASSIGNED_TO",
          "RESPONSIBLE_FOR",
          "REPORTS_TO",
          "MEMBER_OF",
          "PERFORMED_BY",
          "APPROVED_BY",
          "CREATED_BY",
          "WITNESSED_BY",
          "HOLDS_CERTIFICATE",
          "CERTIFIES",
          "ISSUED_BY",
          "VALID_UNTIL",
          "EXPIRES_ON",
          "SATISFIES",
          "REQUIRED_BY",
          "COMPLIES_WITH",
          "INSPECTED_BY",
          "SUPPLIED_BY",
          "INVOICED_BY",
          "PAID_TO",
          "ALLOCATED_TO",
          "QUOTED_BY",
          "CONTRACTED_WITH",
          "INSURED_BY",
          "CLAIMED_UNDER",
          "PART_OF_VOYAGE",
          "DEPARTED_FROM",
          "ARRIVED_AT",
          "TRANSITED_THROUGH",
          "PLANNED_FOR",
          "OCCURRED_DURING",
          "BOOKED_BY",
          "ATTENDED_BY",
          "PREFERS",
          "ALLERGIC_TO",
          "REQUESTED_BY",
          "SERVED_TO",
          "SCHEDULED_FOR",
          "DUE_ON",
          "COMPLETED_ON",
          "STARTED_ON",
          "VALID_FROM",
          "EFFECTIVE_FROM",
          "LAST_DONE",
          "NEXT_DUE",
          "HOSTS",
          "AUTHENTICATES",
          "BACKS_UP_TO",
          "STREAMS_TO",
          "RELATED_TO",
          "LINKED_TO",
          "ASSOCIATED_WITH",
          "MENTIONED_IN",
          "TAGGED_WITH",
          "SIMILAR_TO",
          "REPLACED_BY",
          "DERIVED_FROM",
          "AFFECTS",
          "has_fault",
          "has_part",
          "related_to",
          "causes",
          "resolves"
        ],
        "default": null,
        "description": "",
        "is_fk": false
      },
      "source_chunk_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_document_chunks.id`.<fk table='search_document_chunks' column='id'/>",
        "is_fk": true
      },
      "source_document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "properties": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "real",
        "required": true,
        "enum": null,
        "default": 1.0,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Natural language description of relationship",
        "is_fk": false
      },
      "embedding": {
        "type": "public.vector(1536)",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Embedded description for semantic relationship matching",
        "is_fk": false
      }
    },
    "required_count": 7
  },
  "auth_role_definitions": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "permissions": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "auth_guest_preferences": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "guest_name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "guest_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "preference_category": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "preference_key": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "preference_value": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "notes": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "source_trip_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 7
  },
  "v_equipment_risk": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "parent_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "name": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "code": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "location": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "manufacturer": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "model": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "serial_number": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "installed_date": {
        "type": "date",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "criticality": {
        "type": "public.equipment_criticality",
        "required": false,
        "enum": [
          "low",
          "medium",
          "high",
          "critical"
        ],
        "default": null,
        "description": "",
        "is_fk": false
      },
      "system_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "attention_flag": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "attention_reason": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "attention_updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "risk_score": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "risk_level": {
        "type": "public.risk_level",
        "required": false,
        "enum": [
          "normal",
          "monitor",
          "emerging",
          "high",
          "critical"
        ],
        "default": null,
        "description": "",
        "is_fk": false
      },
      "trend": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "contributing_factors": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "risk_calculated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "doc_sop_procedures": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "yacht_id": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "equipment": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "title": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "query": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "content_markdown": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "source_chunks": {
        "type": "integer[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "version": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 1,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "dash_safety_drills": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "drill_type": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "drill_date": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "conducted_by": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "participants": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "duration_minutes": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "outcome": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "notes": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "doc_yacht_library": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "document_name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "document_path": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "document_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "times_accessed": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "times_helpful": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "times_not_helpful": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "equipment_covered": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "last_used": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "yacht_id": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "total_uses": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "successful_uses": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "effectiveness_score": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "department": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "fault_code_matches": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "helpful_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "chunk_id": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "chunk_text": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "chunk_index": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "page_num": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "entities_found": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "entity_weights": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "query": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "session_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "score": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "chunk_metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_chunk": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "conversion_rate": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Conversion rate for document effectiveness",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "document_chunks": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "chunk_index": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "text": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "page_number": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "embedding": {
        "type": "public.vector(1536)",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "equipment_ids": {
        "type": "uuid[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "fault_codes": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "tags": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "content": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "graph_extracted": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "graph_extracted_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "section_title": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "doc_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "system_tag": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "graph_extract_status": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "graph_extract_error": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "section_path": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "section_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_section_entry": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "symptom_codes": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "graph_extract_ts": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "documents": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "source": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "original_path": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "filename": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "content_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "size_bytes": {
        "type": "bigint",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "sha256": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "storage_path": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "equipment_ids": {
        "type": "uuid[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "tags": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "indexed": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "indexed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "system_path": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "doc_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "oem": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "model": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "system_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "chat_sessions": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "title": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": "New Chat",
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "folder": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "yacht_id": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "search_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "yacht",
        "description": "",
        "is_fk": false
      },
      "session_metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_archived": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "message_count": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "deleted": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": false,
        "description": "Soft delete flag - allows users to delete chats without permanently removing data",
        "is_fk": false
      }
    },
    "required_count": 2
  },
  "search_symptom_reports": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "equipment_label": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "symptom_code": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "symptom_label": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "source_type": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": "search",
        "description": "",
        "is_fk": false
      },
      "source_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "resolution_status": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": "open",
        "description": "",
        "is_fk": false
      },
      "resolved_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "resolution_notes": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "reported_by": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 8
  },
  "search_manual_embeddings": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "yacht_id": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "equipment": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "file_name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "file_size": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "chunk_text": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "chunk_index": {
        "type": "integer",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "embedding": {
        "type": "public.vector(1024)",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "auth_users_yacht": {
    "columns": {
      "user_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": true
      },
      "yacht_id": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "role": {
        "type": "character varying",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "permissions": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "notification_settings": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "total_queries": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "email": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 2
  },
  "dash_predictive_equipment_risk": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "extensions.uuid_generate_v4()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "risk_score": {
        "type": "numeric",
        "required": true,
        "enum": null,
        "default": 0.0,
        "description": "",
        "is_fk": false
      },
      "risk_level": {
        "type": "public.risk_level",
        "required": false,
        "enum": [
          "normal",
          "monitor",
          "emerging",
          "high",
          "critical"
        ],
        "default": null,
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "numeric",
        "required": true,
        "enum": null,
        "default": 0.25,
        "description": "",
        "is_fk": false
      },
      "trend": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "trend_delta": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": 0,
        "description": "",
        "is_fk": false
      },
      "contributing_factors": {
        "type": "jsonb",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "last_calculated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "previous_risk_score": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 9
  },
  "equipment": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "parent_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "name": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "code": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "location": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "manufacturer": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "model": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "serial_number": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "alias_roles": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "canonical_role": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 4
  },
  "alias_work_orders": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "work_order_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_work_orders.id`.<fk table='pms_work_orders' column='id'/>",
        "is_fk": true
      },
      "alias": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": 1.0,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "search_document_chunks": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "chunk_index": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "text": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Chunk text content (250-800 tokens typically)",
        "is_fk": false
      },
      "page_number": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "embedding": {
        "type": "public.vector(1536)",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Vector embedding for semantic search",
        "is_fk": false
      },
      "equipment_ids": {
        "type": "uuid[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "fault_codes": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "tags": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "content": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "graph_extracted": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "graph_extracted_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "section_title": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "doc_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Document type: manual, log, checklist, spec, email",
        "is_fk": false
      },
      "system_tag": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "System category: engine, hvac, electrical, navigation, etc",
        "is_fk": false
      },
      "graph_extract_status": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": "pending",
        "description": "pending = not processed, success = extracted, failed = error occurred",
        "is_fk": false
      },
      "graph_extract_error": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "section_path": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "section_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_section_entry": {
        "type": "boolean",
        "required": true,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "symptom_codes": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "graph_extract_ts": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 4
  },
  "search_maintenance_facts": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "part_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "system_node_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_graph_nodes.id`.<fk table='search_graph_nodes' column='id'/>",
        "is_fk": true
      },
      "action": {
        "type": "public.maintenance_action_type",
        "required": true,
        "enum": [
          "inspect",
          "check",
          "test",
          "measure",
          "record",
          "clean",
          "lubricate",
          "adjust",
          "calibrate",
          "tighten",
          "replace",
          "repair",
          "rebuild",
          "overhaul",
          "recondition",
          "service",
          "flush",
          "drain",
          "fill",
          "bleed",
          "purge",
          "sample",
          "analyze",
          "diagnose",
          "troubleshoot",
          "document",
          "photograph",
          "report",
          "certify",
          "other",
          "oil_change",
          "filter_replace",
          "belt_check",
          "coolant_check",
          "pressure_test",
          "visual_inspection"
        ],
        "default": null,
        "description": "",
        "is_fk": false
      },
      "interval_hours": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "interval_days": {
        "type": "integer",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "interval_description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "source_chunk_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `search_document_chunks.id`.<fk table='search_document_chunks' column='id'/>",
        "is_fk": true
      },
      "source_document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "confidence": {
        "type": "real",
        "required": true,
        "enum": null,
        "default": 1.0,
        "description": "",
        "is_fk": false
      },
      "properties": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "dash_crew_hours_compliance": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "user_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": true
      },
      "date": {
        "type": "date",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "hours_worked": {
        "type": "numeric",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "hours_of_rest": {
        "type": "numeric",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "violations": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "notes": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 8
  },
  "users_with_roles": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "auth_user_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "email": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "name": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_active": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "role": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "scopes": {
        "type": "text[]",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "valid_from": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "valid_until": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "search_ocred_pages": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "document_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "page_number": {
        "type": "integer",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "raw_text": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 5
  },
  "alias_documents": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "document_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `doc_metadata.id`.<fk table='doc_metadata' column='id'/>",
        "is_fk": true
      },
      "alias": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "double precision",
        "required": false,
        "enum": null,
        "default": 1.0,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "chat_agent_configs": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "name": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "agent_secret_hash": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "bcrypt hash of agent secret - used for HMAC verification",
        "is_fk": false
      },
      "device_info": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Device metadata: OS, version, IP, hardware specs",
        "is_fk": false
      },
      "last_seen_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "is_active": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": true,
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 6
  },
  "pms_faults": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_equipment.id`.<fk table='pms_equipment' column='id'/>",
        "is_fk": true
      },
      "fault_code": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "OEM fault code (e.g., E047, SPN 123)",
        "is_fk": false
      },
      "title": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "description": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "severity": {
        "type": "public.fault_severity",
        "required": true,
        "enum": [
          "low",
          "medium",
          "high",
          "critical"
        ],
        "default": "medium",
        "description": "",
        "is_fk": false
      },
      "detected_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "resolved_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "resolved_by": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": false
      },
      "work_order_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_work_orders.id`.<fk table='pms_work_orders' column='id'/>",
        "is_fk": true
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 7
  },
  "alias_parts": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "part_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_parts.id`.<fk table='pms_parts' column='id'/>",
        "is_fk": true
      },
      "alias": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "alias_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "",
        "is_fk": false
      },
      "confidence": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": 1.0,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "source": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "manual",
        "description": "",
        "is_fk": false
      },
      "candidate_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "master_candidate_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": true
      },
      "deployed_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 4
  },
  "v_symptom_recurrence": {
    "columns": {
      "yacht_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "equipment_label": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "symptom_code": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "symptom_label": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "occurrence_count": {
        "type": "bigint",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "first_occurrence": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "latest_occurrence": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "span_days": {
        "type": "numeric",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "open_count": {
        "type": "bigint",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "resolved_count": {
        "type": "bigint",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 0
  },
  "yacht_operational_context": {
    "columns": {
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Primary Key.<pk/>\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "current_status": {
        "type": "text",
        "required": true,
        "enum": null,
        "default": "in_port",
        "description": "",
        "is_fk": false
      },
      "next_event_type": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Type of next critical event affecting urgency of issues",
        "is_fk": false
      },
      "next_event_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "When the next critical event starts",
        "is_fk": false
      },
      "next_event_name": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "hot_work_permitted": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": true,
        "description": "",
        "is_fk": false
      },
      "guests_on_board": {
        "type": "boolean",
        "required": false,
        "enum": null,
        "default": false,
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_by": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `auth_users.id`.<fk table='auth_users' column='id'/>",
        "is_fk": false
      }
    },
    "required_count": 3
  },
  "pms_purchase_orders": {
    "columns": {
      "id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": "gen_random_uuid()",
        "description": "Note:\nThis is a Primary Key.<pk/>",
        "is_fk": false
      },
      "yacht_id": {
        "type": "uuid",
        "required": true,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `yacht_registry.id`.<fk table='yacht_registry' column='id'/>",
        "is_fk": true
      },
      "supplier_id": {
        "type": "uuid",
        "required": false,
        "enum": null,
        "default": null,
        "description": "Note:\nThis is a Foreign Key to `pms_suppliers.id`.<fk table='pms_suppliers' column='id'/>",
        "is_fk": true
      },
      "po_number": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "status": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "draft",
        "description": "",
        "is_fk": false
      },
      "ordered_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "received_at": {
        "type": "timestamp with time zone",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "currency": {
        "type": "text",
        "required": false,
        "enum": null,
        "default": "USD",
        "description": "",
        "is_fk": false
      },
      "metadata": {
        "type": "jsonb",
        "required": false,
        "enum": null,
        "default": null,
        "description": "",
        "is_fk": false
      },
      "created_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      },
      "updated_at": {
        "type": "timestamp with time zone",
        "required": true,
        "enum": null,
        "default": "now()",
        "description": "",
        "is_fk": false
      }
    },
    "required_count": 4
  }
}