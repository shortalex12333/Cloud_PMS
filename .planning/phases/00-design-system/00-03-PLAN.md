---
wave: 2
depends_on: [00-01, 00-02]
files_modified:
  - apps/web/src/components/ui/StatusPill.tsx
  - apps/web/src/components/ui/SectionContainer.tsx
  - apps/web/src/components/ui/GhostButton.tsx
  - apps/web/src/components/ui/PrimaryButton.tsx
  - apps/web/src/components/ui/EntityLink.tsx
  - apps/web/src/components/ui/Toast.tsx
  - apps/web/src/components/ui/index.ts
autonomous: true
requirements: [DS-03]
---

# Plan 00-03: Build Base UI Components

## Objective

Create 6 foundational UI components using semantic design tokens. Each component must work in both dark and light themes with zero raw hex values.

## Tasks

<task id="1">
Create StatusPill component:
```tsx
// apps/web/src/components/ui/StatusPill.tsx
interface StatusPillProps {
  status: 'critical' | 'warning' | 'success' | 'neutral';
  label: string;
  showDot?: boolean;
}
```
- Use semantic tokens: bg-status-{level}-bg, text-status-{level}
- Height: 24px, padding: 4px 12px, radius: full
- Optional 6px dot prefix
- Font: 12px / weight 500
</task>

<task id="2">
Create SectionContainer component with sticky header:
```tsx
// apps/web/src/components/ui/SectionContainer.tsx
interface SectionContainerProps {
  title: string;
  icon?: React.ReactNode;
  count?: number;
  action?: { label: string; onClick: () => void };
  children: React.ReactNode;
}
```
- bg-surface-primary, rounded-md
- Header: 44px height, sticky, transitions to bg-surface-elevated when pinned
- Action button right-aligned in header
</task>

<task id="3">
Create GhostButton component:
```tsx
// apps/web/src/components/ui/GhostButton.tsx
interface GhostButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  icon?: React.ReactNode;
  loading?: boolean;
}
```
- Transparent bg, text-brand-interactive
- Hover: bg-brand-muted (10% teal)
- 13px font, weight 500, 8px 12px padding
- Min-height 36px
</task>

<task id="4">
Create PrimaryButton component:
```tsx
// apps/web/src/components/ui/PrimaryButton.tsx
interface PrimaryButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  loading?: boolean;
}
```
- bg-brand-interactive, text-txt-inverse
- Hover: bg-brand-hover
- 14px font, weight 600, 12px 24px padding
- Min-height 40px
- Loading: spinner replaces content
</task>

<task id="5">
Create EntityLink component for cross-lens navigation:
```tsx
// apps/web/src/components/ui/EntityLink.tsx
interface EntityLinkProps {
  entityType: string;
  entityId: string;
  label: string;
  onClick?: () => void;
}
```
- text-brand-interactive, underline on hover
- Cursor pointer
- Logs navigation to ledger on click
</task>

<task id="6">
Create Toast component:
```tsx
// apps/web/src/components/ui/Toast.tsx
interface ToastProps {
  type: 'success' | 'warning' | 'error';
  message: string;
  onDismiss?: () => void;
}
```
- Fixed bottom center, z-toast
- bg-surface-elevated, border-surface-border, shadow-sm
- Icon + message, auto-dismiss 4s
- Slide up + fade in animation
</task>

<task id="7">
Create barrel export at apps/web/src/components/ui/index.ts
</task>

<task id="8">
Verify all components render in both themes by visual inspection via Playwright screenshot
</task>

## Verification

```bash
# Check all component files exist
ls -la apps/web/src/components/ui/StatusPill.tsx
ls -la apps/web/src/components/ui/SectionContainer.tsx
ls -la apps/web/src/components/ui/GhostButton.tsx
ls -la apps/web/src/components/ui/PrimaryButton.tsx
ls -la apps/web/src/components/ui/EntityLink.tsx
ls -la apps/web/src/components/ui/Toast.tsx

# Check no raw hex values
grep -rn "#[0-9A-Fa-f]\{6\}" apps/web/src/components/ui/*.tsx | grep -v "test" | wc -l
# Should be 0

# Build passes
cd apps/web && npm run build
```

## must_haves

- [ ] StatusPill renders with correct status colors
- [ ] SectionContainer has sticky header behavior
- [ ] GhostButton has correct hover state
- [ ] PrimaryButton has loading state
- [ ] EntityLink triggers navigation
- [ ] Toast animates in/out
- [ ] Zero raw hex values in components
- [ ] Build passes
