# ============================================================================
# CelesteOS Environment Variables
# ============================================================================

# ----------------------------------------------------------------------------
# SUPABASE CONFIGURATION (Required)
# ----------------------------------------------------------------------------

# Supabase project URL
# Example: https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_URL=

# Supabase Anonymous Key (public, safe for frontend)
# Used for authentication only
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# Supabase Service Role Key (SECRET - backend only!)
# DO NOT expose to frontend
SUPABASE_SERVICE_KEY=

# Supabase JWT Secret (for token validation)
# Found in Supabase Dashboard → Settings → API → JWT Secret
SUPABASE_JWT_SECRET=

# ----------------------------------------------------------------------------
# CLOUD API CONFIGURATION (Required)
# ----------------------------------------------------------------------------

# Cloud API Base URL
# Development: http://localhost:8000
# Production: https://api.celesteos.com
NEXT_PUBLIC_CLOUD_API_URL=

# Internal API URL (for server-side requests)
# Can be same as NEXT_PUBLIC_CLOUD_API_URL
CLOUD_API_URL=

# ----------------------------------------------------------------------------
# SEARCH ENGINE CONFIGURATION (Required)
# ----------------------------------------------------------------------------

# Search Engine Microservice URL
# Hosted on Render.com or similar
# Example: https://celesteos-search.onrender.com
SEARCH_ENGINE_URL=

# Search Engine Service Token (for internal auth)
SEARCH_ENGINE_SERVICE_TOKEN=

# ----------------------------------------------------------------------------
# PREDICTIVE ENGINE CONFIGURATION (Required)
# ----------------------------------------------------------------------------

# Predictive Maintenance Engine URL
# Example: https://celesteos-predictive.onrender.com
PREDICTIVE_ENGINE_URL=

# Predictive Engine Service Token
PREDICTIVE_ENGINE_SERVICE_TOKEN=

# ----------------------------------------------------------------------------
# N8N CONFIGURATION (Optional but recommended)
# ----------------------------------------------------------------------------

# n8n Instance URL
# Self-hosted or cloud
N8N_URL=

# n8n Webhook URL for indexing pipeline
# Example: https://n8n.yourdomain.com/webhook/indexing-start
N8N_INDEXING_WEBHOOK_URL=

# n8n API Key (if using API endpoints)
N8N_API_KEY=

# ----------------------------------------------------------------------------
# LOCAL AGENT CONFIGURATION
# ----------------------------------------------------------------------------

# Agent Token Secret (for validating agent uploads)
# Generate with: openssl rand -hex 32
AGENT_TOKEN_SECRET=

# Agent Update Channel
# Options: stable, beta, dev
AGENT_UPDATE_CHANNEL=stable

# ----------------------------------------------------------------------------
# OPENAI CONFIGURATION (for embeddings & LLM)
# ----------------------------------------------------------------------------

# OpenAI API Key
OPENAI_API_KEY=

# Embedding Model
# Options: text-embedding-3-small, text-embedding-3-large
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Embedding Dimensions
# 1536 for text-embedding-3-small
OPENAI_EMBEDDING_DIMENSIONS=1536

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------------------------------------

# PostgreSQL Connection String (if not using Supabase client)
# Example: postgresql://user:pass@host:5432/database
DATABASE_URL=

# Database Pool Size
DATABASE_POOL_SIZE=10

# ----------------------------------------------------------------------------
# STORAGE CONFIGURATION
# ----------------------------------------------------------------------------

# Object Storage Provider
# Options: supabase, s3, minio
STORAGE_PROVIDER=supabase

# S3 Configuration (if using S3)
S3_BUCKET_NAME=
S3_REGION=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

# MinIO Configuration (if using MinIO)
MINIO_ENDPOINT=
MINIO_ACCESS_KEY=
MINIO_SECRET_KEY=

# ----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# ----------------------------------------------------------------------------

# JWT Expiration Times
JWT_ACCESS_TOKEN_EXPIRES_MINUTES=1440  # 24 hours
JWT_REFRESH_TOKEN_EXPIRES_DAYS=30

# CORS Allowed Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://app.celesteos.com

# API Rate Limiting
RATE_LIMIT_PER_MINUTE=60

# ----------------------------------------------------------------------------
# MONITORING & LOGGING
# ----------------------------------------------------------------------------

# Log Level
# Options: debug, info, warning, error
LOG_LEVEL=info

# Sentry DSN (for error tracking)
SENTRY_DSN=

# Grafana/Prometheus Endpoint
PROMETHEUS_ENDPOINT=

# ----------------------------------------------------------------------------
# FEATURE FLAGS
# ----------------------------------------------------------------------------

# Enable GraphRAG Deep Mode
ENABLE_GRAPHRAG=true

# Enable Predictive Maintenance
ENABLE_PREDICTIVE=true

# Enable Streaming Search Results
ENABLE_SEARCH_STREAMING=true

# Enable Mobile Photo Uploads
ENABLE_MOBILE_UPLOADS=true

# ----------------------------------------------------------------------------
# DEVELOPMENT SETTINGS
# ----------------------------------------------------------------------------

# Development Mode
NODE_ENV=development

# Debug Mode
DEBUG=false

# Mock External Services (for testing)
MOCK_SEARCH_ENGINE=false
MOCK_PREDICTIVE_ENGINE=false

# ----------------------------------------------------------------------------
# FRONTEND CONFIGURATION
# ----------------------------------------------------------------------------

# App Name
NEXT_PUBLIC_APP_NAME=CelesteOS

# App Version
NEXT_PUBLIC_APP_VERSION=1.0.0

# Support Email
NEXT_PUBLIC_SUPPORT_EMAIL=support@celesteos.com

# Enable Analytics
NEXT_PUBLIC_ENABLE_ANALYTICS=false

# Google Analytics ID (if enabled)
NEXT_PUBLIC_GA_ID=

# ----------------------------------------------------------------------------
# CRON JOBS & BACKGROUND TASKS
# ----------------------------------------------------------------------------

# Predictive Calculation Interval (hours)
PREDICTIVE_CALC_INTERVAL_HOURS=6

# Document Re-indexing Interval (days)
REINDEX_INTERVAL_DAYS=30

# Cleanup Failed Uploads (hours)
CLEANUP_UPLOADS_INTERVAL_HOURS=24

# ----------------------------------------------------------------------------
# OPTIMIZATION & PERFORMANCE
# ----------------------------------------------------------------------------

# Vector Search Result Limit
VECTOR_SEARCH_LIMIT=10

# Vector Search Similarity Threshold
VECTOR_SEARCH_THRESHOLD=0.7

# Search Engine Timeout (seconds)
SEARCH_ENGINE_TIMEOUT=30

# Predictive Engine Timeout (seconds)
PREDICTIVE_ENGINE_TIMEOUT=60

# Document Chunk Size (tokens)
CHUNK_SIZE_TOKENS=500

# Chunk Overlap (tokens)
CHUNK_OVERLAP_TOKENS=50

# ----------------------------------------------------------------------------
# DEPLOYMENT CONFIGURATION
# ----------------------------------------------------------------------------

# Deployment Environment
# Options: development, staging, production
DEPLOYMENT_ENV=development

# Hetzner VPS IP (if applicable)
HETZNER_VPS_IP=

# Vercel Deployment URL (for frontend)
VERCEL_URL=

# Render.com Service URLs
RENDER_SEARCH_ENGINE_URL=
RENDER_PREDICTIVE_ENGINE_URL=

# ----------------------------------------------------------------------------
# NOTES
# ----------------------------------------------------------------------------

# 1. Copy this file to .env.local for local development
# 2. Never commit .env.local or any file containing real secrets
# 3. Use environment-specific files: .env.development, .env.production
# 4. Frontend variables must be prefixed with NEXT_PUBLIC_
# 5. Backend variables should NEVER be exposed to frontend
# 6. Rotate secrets regularly (every 90 days minimum)
# 7. Use different secrets for dev/staging/prod environments
