 *
 * Architecture (2026-01-16):
 * - Frontend calls Render: POST /v1/bootstrap with JWT
 * - Render looks up tenant from MASTER DB
 * - Returns yacht_id, tenant_key_alias, role, status
 *
 * Retry strategy: 2s, 4s, 8s, 16s timeouts (30s total before giving up)
 * This prevents tab-resume logout on slow connections
 */
async function fetchBootstrap(baseUser: CelesteUser, accessToken: string): Promise<CelesteUser> {
  const RETRY_TIMEOUTS = [2000, 4000, 8000, 16000]; // Exponential backoff
  let lastError: Error | null = null;

--
      const timeoutId = setTimeout(() => controller.abort(), timeout);

      const response = await fetch(`${RENDER_API_URL}/v1/bootstrap`, {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${accessToken}`,
          'Content-Type': 'application/json',
        },
        signal: controller.signal,
      });

      clearTimeout(timeoutId);

