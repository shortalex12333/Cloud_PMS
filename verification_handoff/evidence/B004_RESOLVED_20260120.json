{
  "blocker": "B004",
  "name": "Email UX Placement",
  "status": "RESOLVED",
  "resolved_at": "2026-01-20T14:40:00Z",

  "investigation": {
    "original_claim": "Email reportedly appears in sidebar navigation instead of as a surface under search",
    "actual_finding": "No sidebar navigation exists. Email IS implemented as a slide-out panel (correct UX).",
    "real_issue": "Dead links in RelatedEmailsPanel.tsx pointed to archived /email/inbox route"
  },

  "architecture_verified": {
    "main_surface": "/app - Single URL architecture",
    "email_implementation": "EmailPanel - slides from left (state-driven, no URL change)",
    "sidebar_navigation": "Does NOT exist",
    "old_routes": "Archived in _archived folder, not accessible"
  },

  "fix_applied": {
    "file": "apps/web/src/components/email/RelatedEmailsPanel.tsx",
    "changes": [
      "Added import: useSurface from @/contexts/SurfaceContext",
      "Added hook call: const { showEmail } = useSurface()",
      "Replaced dead link (line 169): <a href='/email/inbox'> → <button onClick={() => showEmail({ folder: 'inbox' })}>",
      "Replaced dead link (line 197): <a href='/email/inbox'> → <button onClick={() => showEmail({ folder: 'inbox' })}>"
    ]
  },

  "verification": {
    "dead_links_removed": true,
    "typescript_compiles": true,
    "single_url_preserved": true
  },

  "notes": {
    "one_url_doctrine": "VERIFIED - /app is the single surface, email is a panel not a route",
    "email_search": "Email results appear in search (handled by SpotlightSearch component)",
    "email_panel": "Opens via showEmail() from SurfaceContext, no navigation"
  },

  "conclusion": "B004 RESOLVED - Email UX follows correct panel-based architecture. Fixed dead links to archived routes."
}
