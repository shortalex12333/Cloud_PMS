# CelesteOS Cloud Environment Variables
# Copy this file to .env and fill in the values

# ============================================================================
# Supabase Configuration
# ============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_KEY=your-service-role-key

# Database connection (for n8n and other services)
DATABASE_URL=postgresql://postgres:password@db.your-project.supabase.co:5432/postgres

# ============================================================================
# OpenAI Configuration (for embeddings)
# ============================================================================
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_EMBEDDING_DIMENSIONS=1536

# ============================================================================
# n8n Configuration
# ============================================================================
N8N_ENCRYPTION_KEY=your-encryption-key-min-10-chars
N8N_HOST=api.celeste7.ai
N8N_PORT=443
N8N_PROTOCOL=https

# n8n webhook URLs (production)
WEBHOOK_URL_BASE=https://api.celeste7.ai/webhook

# ============================================================================
# JWT Configuration
# ============================================================================
JWT_SECRET=your-jwt-secret-key-very-secure
JWT_ACCESS_TOKEN_EXPIRY_HOURS=24
JWT_REFRESH_TOKEN_EXPIRY_DAYS=30

# ============================================================================
# API Configuration
# ============================================================================
API_BASE_URL=https://api.celesteos.com
API_PORT=8000

# CORS settings
CORS_ALLOWED_ORIGINS=https://app.celesteos.com,https://celesteos.com

# ============================================================================
# Indexing Pipeline Configuration (n8n workflow)
# ============================================================================
# Indexing is handled by an n8n workflow webhook, not a separate service
INDEXING_WEBHOOK_URL=https://api.celeste7.ai/webhook/v1/ingest/index
INDEXING_WORKER_CONCURRENCY=4

# ============================================================================
# Storage Configuration
# ============================================================================
# Supabase storage buckets
STORAGE_BUCKET_UPLOADS=yacht-uploads
STORAGE_BUCKET_DOCUMENTS=yacht-documents

# Storage limits
MAX_UPLOAD_SIZE_MB=500
MAX_CHUNK_SIZE_MB=20

# ============================================================================
# Microsoft OAuth Integration (for Outlook)
# ============================================================================
# Azure AD App Registration - Client ID (existing app, do not change)
MICROSOFT_CLIENT_ID=41f6dc82-8127-4330-97e0-c6b26e6aa967
# Client Secret (REQUIRED - get from Azure Portal)
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret-here
# Tenant ID (common for multitenant)
MICROSOFT_TENANT_ID=common
# OAuth Redirect URI (production)
MICROSOFT_REDIRECT_URI=https://api.celeste7.ai/v1/integrations/outlook/callback

# ============================================================================
# Email Integration (optional)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-app-password

# ============================================================================
# Monitoring & Logging
# ============================================================================
LOG_LEVEL=INFO
SENTRY_DSN=your-sentry-dsn-if-using

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_EMAIL_INGESTION=true
ENABLE_GRAPHRAG=true
ENABLE_PREDICTIVE_MAINTENANCE=false

# ============================================================================
# Rate Limiting
# ============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_UPLOAD_MBPS=50

# ============================================================================
# Development/Production
# ============================================================================
NODE_ENV=production
DEBUG=false
